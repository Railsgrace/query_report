<% if report.records.size > 0 %>
    <table class="<%= QueryReport.config.record_table_class %>" cellpadding="0" cellspacing="0">
      <thead>
      <% report.columns.each do |column| %>
          <th><%= column.sortable? ? sort_link(report.search, column.name, params, remote: @remote) : column.humanize %></th>
      <% end %>
      </thead>

      <tbody>
      <% report.records.each_with_index do |record, index| %>
          <tr>
            <% report.columns.each do |column| %>
                <% if column.rowspan? and report.new_row_for_rowspan?(column, index) %>
                    <td rowspan="<%= report.rowspan_for(column, index) %>"><%= record[column.humanize] %></td>
                <% elsif !column.rowspan? %>
                    <td><%= record[column.humanize] %></td>
                <% end %>
            <% end %>
          </tr>
      <% end %>
      <%= render :partial => "query_report/record_footer", locals: {report: report} %>
      </tbody>
    </table>
<% else %>
    <p>No record found</p>
<% end %>